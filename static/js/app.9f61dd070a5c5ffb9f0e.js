webpackJsonp([1,2],[,,,,,,,,,,,,,,,function(t,e,s){"use strict";var n=s(3),i=s(100),a=s(83),o=s.n(a),r=s(84),l=s.n(r),u=s(87),c=s.n(u),d=s(81),m=s.n(d),f=s(88),h=s.n(f),g=s(86),p=s.n(g),b=s(85),v=s.n(b),_=s(80),x=s.n(_),k=s(79),U=s.n(k),T=s(82),w=s.n(T);n.default.use(i.a);var L=[{path:"/",component:o.a},{path:"/postedit",name:"postedit",component:l.a},{path:"/user/:id",component:c.a,children:[{path:"",component:h.a},{path:"like",component:m.a},{path:"follow",component:U.a}]},{path:"/settings",component:p.a,name:"settings"},{path:"/post/:id",component:v.a},{path:"/follow/:id",component:x.a},{path:"/message",component:w.a}];e.a=new i.a({routes:L})},function(t,e,s){"use strict";var n=s(3),i=s(2),a=s(32),o=s(33);n.default.use(i.c),e.a=new i.c.Store({state:o.a.state,mutations:o.a.mutations,actions:a.a})},function(t,e){},function(t,e){},,function(t,e,s){s(72);var n=s(1)(s(21),s(97),null,null);t.exports=n.exports},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(0),i=s.n(n),a=s(2);e.default={name:"app",components:{},data:function(){return{activeTab:"latest",anchorOrigin:{vertical:"bottom",horizontal:"left"},targetOrigin:{vertical:"top",horizontal:"left"},dialog:!1,loginUser:{username:null,password:null},signupUser:{username:null,password:null,verfiPass:null},signupTag:!1}},methods:i()({goMessageList:function(){this.$router.push({path:"/message"})},goFollowPage:function(){this.$router.push({path:"/user/"+this.user.id+"/follow"})},goLikePage:function(){this.$router.push({path:"/user/"+this.user.id+"/like"})},toSettings:function(){this.$router.push({name:"settings"})},backToHome:function(){this.$router.replace("/")},goUserPage:function(){this.$router.push({path:"/user/"+this.user.id})},editPost:function(){this.$router.push({name:"postedit"})},signin:function(){this.$store.dispatch("sendLoginReq",this.loginUser)},openSignup:function(){this.dialog=!1,this.signupTag=!0},signup:function(){this.$store.dispatch("sendSignupReq",this.signupUser)},sighOut:function(){this.$store.commit("clearCurrentUser"),this.$router.replace("/")}},s.i(a.a)(["checkLocalUser"])),created:function(){this.$store.dispatch("fetchUnreadMessage"),this.checkLocalUser()},computed:i()({},s.i(a.b)(["logTag","loginError","signupError","user","unRead"])),watch:{logTag:function(t){1==t&&(this.dialog=!1,this.signupTag=!1)}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(0),i=s.n(n),a=s(2);e.default={data:function(){return{}},methods:{goPostPage:function(t){this.$router.push({})}},created:function(){this.$store.dispatch("fetchUserFollowList",this.user.id)},computed:i()({},s.i(a.b)(["userFollowList","user"]))}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(0),i=s.n(n),a=s(2),o=s(8),r=s.n(o);e.default={data:function(){return{open:!1,dialog:!1,inputErrorText:"",sendEnable:!1,message:"",list:[]}},methods:{goPostPage:function(t){this.$store.commit("setPostPage",t),this.$router.push({path:"/post/"+t.id})},handleInputOverflow:function(t){this.inputErrorText=t?"不能超过25个字符":"",this.sendEnable=t},sendMessage:function(){console.log(this.anotherUser),this.$store.dispatch("sendMessageTo",{userId:this.anotherUser.id,message:this.message}),this.dialog=!1,this.message=""},toggleFollowUser:function(){this.$store.dispatch("toggleFollowUser",this.$route.params.id)}},mounted:function(){this.trigger=this.$el},beforeCreate:function(){this.$store.dispatch("fetchAnotherUser",this.$route.params.id),this.$store.dispatch("checkHasFollowed",this.$route.params.id)},created:function(){var t=this,e=this;this.anotherUser.attributes.post.forEach(function(s){new r.a.Query("Post").get(s.id).then(function(t){console.log(t),e.list.push(t)},function(t){}),t.refreshing=!1})},computed:i()({},s.i(a.b)(["anotherUser","userFollowList","user","isFollowed","logTag"]),{buttonEnable:function(){return this.user.id!=this.anotherUser.id}})}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(0),i=s.n(n),a=s(2);e.default={data:function(){return{}},methods:{goPostPage:function(t){this.$store.commit("setPostPage",t),this.$router.push({path:"/post/"+t.id})}},created:function(){this.$store.dispatch("fetchUserLikePost",this.user.attributes.likePost)},computed:i()({},s.i(a.b)(["userLikeList","user"]))}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(0),i=s.n(n),a=s(2);e.default={data:function(){return{dialog:!1,message:null,auser:{attributes:{nickname:""}},inputErrorText:"",sendEnable:!1}},methods:{handleInputOverflow:function(t){this.inputErrorText=t?"不能超过25个字符":"",this.sendEnable=t},openDialog:function(t){this.dialog=!0,this.auser=t},sendMessageTo:function(){this.dialog=!1,this.$store.dispatch("sendMessageTo",{userId:this.auser.id,message:this.message}),this.message=null}},created:function(){this.$store.dispatch("checkMailBox")},computed:i()({},s.i(a.b)(["mailBox","messageUsers"]))}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(0),i=s.n(n),a=s(2);e.default={data:function(){return{refreshing:!1,activeTab:"latest",trigger:null,dialog:!1}},methods:{goPostPage:function(t){this.logTag?(this.$store.commit("setPostPage",t),this.$router.push({path:"/post/"+t.id})):this.dialog=!0},refresh:function(){var t=this;this.refreshing=!0,setTimeout(function(){t.handleTabs(t.activeTab),t.refreshing=!1},2e3)},handleTabs:function(t){this.activeTab=t,"latest"==t?this.$store.dispatch("fetchLatestPost"):"essenced"==t?this.$store.dispatch("fetchEssencedPost"):"qa"==t&&this.$store.dispatch("fetchQaPost")}},mounted:function(){this.trigger=this.$el},beforeCreate:function(){this.$store.dispatch("fetchLatestPost")},computed:i()({},s.i(a.b)(["topedList","latestList","essencedList","qaList","logTag"]),{list:function(){return"latest"==this.activeTab?this.latestList:"essenced"==this.activeTab?this.essencedList:"qa"==this.activeTab?this.qaList:void 0}})}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(0),i=s.n(n);e.default={name:"postedit",data:function(){return{post:{title:"",content:""},titleErrorText:"",tagQA:!1,tagShare:!1,tagOther:!0,imgList:[],dialog:!1}},methods:{deleteImg:function(t){this.imgList.splice(t,1)},handleImg:function(){var t=this;if(this.imgCount<3){var e=new FileReader;e.readAsDataURL(document.querySelector("input[type=file]").files[0]),e.onloadend=function(e){t.imgList.push(e.target.result)}}else this.dialog=!0},selectTagQA:function(){this.tagQA=!this.tagQA,this.tagShare=!1,this.tagOther=!1},selectTagShare:function(){this.tagShare=!this.tagShare,this.tagQA=!1,this.tagOther=!1},selectTagOther:function(){this.tagOther=!this.tagOther,this.tagQA=!1,this.tagShare=!1},handleTitleOverflow:function(t){this.titleErrorText=t?"超过限定长度":""},uploadPost:function(){if(this.tagQA)this.$store.dispatch("uploadPost",i()({},this.post,{tag:"问答",img:this.imgList}));else if(this.tagShare)this.$store.dispatch("uploadPost",i()({},this.post,{tag:"分享",img:this.imgList}));else{if(!this.tagOther)return void window.alert("标签不能为空");this.$store.dispatch("uploadPost",i()({},this.post,{tag:"其他",img:this.imgList}))}this.$router.push("/")}},computed:{buttonEnable:function(){return""==this.post.title||""==this.post.content||""!=this.titleErrorText},imgCount:function(){return this.imgList.length}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(0),i=s.n(n),a=s(2);e.default={data:function(){return{comment:"",liked:!1}},methods:{atSomeone:function(t){this.comment="@"+t.name},goFollowUser:function(){this.$router.push({path:"/follow/"+this.post.attributes.createrId})},addComment:function(){this.$store.dispatch("addComment",this.comment),this.comment=""},toggleLike:function(){var t=this,e=!1;this.user.attributes.likePost.forEach(function(s){s.id==t.post.id&&(e=!0)}),console.log(e),this.$store.dispatch("toggleLike",e),this.$store.dispatch("toggleAddLikePost",e),this.liked=!this.liked}},created:function(){var t=this;this.user.attributes.likePost.forEach(function(e){e.id==t.post.id&&(t.liked=!0)}),this.$store.dispatch("fetchAnotherUser",this.post.attributes.createrId)},computed:i()({},s.i(a.b)(["post","logTag","user","anotherUser"]),{buttonEnable:function(){return 0==this.logTag||(""==this.comment||!this.logTag)},likeEnable:function(){return 0==this.logTag}}),filters:{dateFilter:function(t){var e=t.getFullYear(),s=(t.getMonth()+1).toString(),n=t.getDate().toString();return 1==s.length&&(s="0"+s),1==n.length&&(n="0"+n),"创建于"+e+"年"+s+"月"+n+"日"}}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(0),i=s.n(n),a=s(2);e.default={data:function(){return{editEnable:!0}},methods:{handleAvatar:function(){var t=this,e=new FileReader;e.readAsDataURL(document.querySelector("input[type=file]").files[0]),setTimeout(function(){t.$store.dispatch("uploadAvatar",e.result)},2e3)},enableEdit:function(){this.editEnable=!1},updateUser:function(){this.editEnable=!0,this.$store.dispatch("updateUser",this.user.attributes)}},computed:i()({},s.i(a.b)(["user"])),created:function(){}}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(0),i=s.n(n),a=s(2);e.default={data:function(){return{anchorPlace:{vertical:"bottom",horizontal:"center"},value:"like",open:!1,trigger:null}},mounted:function(){},methods:{handleChange:function(t){this.value=t},goFollowPage:function(){this.$router.push({path:"/user/"+this.user.id+"/follow"})},goLikePage:function(){this.$router.push({path:"/user/"+this.user.id+"/like"})},toSettings:function(){this.$router.push({name:"settings"})},toggle:function(){this.open=!this.open},handleClose:function(){this.open=!1}},computed:i()({},s.i(a.b)(["user"]))}},function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{}},methods:{},computed:{}}},function(t,e,s){"use strict";var n=s(0),i=s.n(n),a=s(8),o=s.n(a),r=s(78),l=s.n(r);o.a.init({appId:"HyIz8TFBGEWUhzCOtSisLtPg-gzGzoHsz",appKey:"QhNpeqBWmsp3bhnaAfsAUgMx"}),e.a={sendLoginReq:function(t,e){var s=t.commit;o.a.User.logIn(e.username,e.password).then(function(t){s("setUserInfo",t)},function(t){s("setLoginError",t)})},sendSignupReq:function(t,e){var s=t.commit;if(null!=e.password&&e.password==e.verfiPass){var n=new o.a.User;n.set("college","加里敦大学"),n.set("desc","这家伙太懒，啥都没写"),n.set("nickname","这是昵称"),n.set("gender","secret"),n.set("post",[]);var i={base64:l.a},a=new o.a.File("avatar.png",i);a.save(),n.set("avatar",a),n.set("follows",[]),n.set("likePost",[]),n.setUsername(e.username),n.setPassword(e.password),n.setEmail(e.username),n.signUp().then(function(t){s("setUserInfo",t)},function(t){console.log(t),"此电子邮箱已经被占用。"==t.message?s("setSignupError","此电子邮箱已经被占用"):"The email address was invalid."==t.message&&s("setSignupError","邮箱地址无效")})}else s("setSignupError","两次密码不相同")},uploadPost:function(t,e){var s=t.commit,n=o.a.Object.extend("Post"),i=new n;i.set("img",e.img),i.set("title",e.title),i.set("content",e.content),i.set("tag",e.tag),i.set("essenced",!1),i.set("toped",!1),i.set("liked",0),i.set("likePeople",[]),i.set("comment",[]),i.set("createrName",o.a.User.current().attributes.username),i.set("createrId",o.a.User.current().id),i.set("createrImg",o.a.User.current().attributes.avatar.attributes.url),i.save().then(function(t){var e=o.a.User.current();return e.add("post",t),e.save()}).then(function(){s("checkLocalUser")}).catch(function(t){console.error(t)})},updateUser:function(t,e){var s=t.commit,n=o.a.User.current();n.set("college",e.college),n.set("desc",e.desc),n.set("nickname",e.nickname),n.set("gender",e.gender),n.save().then(function(t){s("checkLocalUser")},function(t){})},uploadAvatar:function(t,e){var s=t.commit,n={base64:e},i=new o.a.File("avatar.png",n),a=new o.a.User.current;a.set("avatar",i),a.save({onprogress:function(t){console.log(t)}},{}).then(function(){s("checkLocalUser"),console.log("update avatar successfully ")})},fetchLatestPost:function(t){var e=t.commit,s=new o.a.Query("Post");s.equalTo("toped",!0),s.limit(100),s.descending("updatedAt"),s.find().then(function(t){e("setTopList",t)},function(t){});var n=new o.a.Query("Post"),i=new Date;n.lessThanOrEqualTo("createdAt",i),n.limit(100),n.descending("updatedAt"),n.find().then(function(t){e("setLatestList",t)},function(t){})},fetchEssencedPost:function(t){var e=t.commit,s=new o.a.Query("Post");s.equalTo("essenced",!0),s.limit(100),s.descending("updatedAt"),s.find().then(function(t){e("setEssencedList",t)},function(t){})},fetchQaPost:function(t){var e=t.commit,s=new o.a.Query("Post");s.equalTo("tag","问答"),s.limit(100),s.descending("updatedAt"),s.find().then(function(t){e("setQaList",t)},function(t){})},addComment:function(t,e){var s={creater:o.a.User.current().id,name:o.a.User.current().attributes.nickname,content:e},n=t.state.post;n.add("comment",s),n.save().then(function(t){})},toggleLike:function(t,e){var s=t.state.post;e?s.save().then(function(t){return t.increment("liked",-1),t.save()}).then(function(){}):s.save().then(function(t){return t.increment("liked",1),t.save()}).then(function(){})},toggleAddLikePost:function(t,e){var s=t.state.post,n=o.a.User.current();e?(n.remove("likePost",s),n.save().then(function(){})):(n.addUnique("likePost",s),n.save().then(function(){}))},toggleFollowUser:function(t,e){var s=t.state.user;t.state.isFollowed?s.unfollow(e).then(function(){t.commit("setFollowTag",!1)},function(t){console.dir(t)}):s.follow(e).then(function(){t.commit("setFollowTag",!0)},function(t){console.dir(t)})},fetchAnotherUser:function(t,e){var s=t.commit;new o.a.Query("_User").get(e).then(function(t){s("setAnotherUser",t)},function(t){})},fetchUserLikePost:function(t,e){var s=t.commit,n=new o.a.Query("Post"),i=[];e.forEach(function(t){n.get(t.id).then(function(t){i.push(t)})}),s("setUserLikeList",i)},fetchUserFollowList:function(t){var e=t.commit,s=o.a.User.current().followeeQuery();s.include("followee"),s.find().then(function(t){e("setUserFollowList",t)})},checkHasFollowed:function(t,e){var s=o.a.User.current().followeeQuery();s.include("followee"),s.find().then(function(s){s.forEach(function(s){s.id==e&&t.commit("setFollowTag",!0)})}),t.commit("setFollowTag",!1)},sendMessageTo:function(t,e){console.log(e);var s=new o.a.Status(null,e.message);o.a.Status.sendPrivateStatus(s,e.userId).then(function(t){console.dir(t)},function(t){console.dir(t)})},fetchUnreadMessage:function(t){var e=t.commit;o.a.Status.countUnreadStatuses(o.a.User.current(),"private").then(function(t){console.log(t),e("setUnread",t.unread)},function(t){})},checkMailBox:function(t){var e=t.commit,s=o.a.Status.inboxQuery(o.a.User.current(),"private"),n=[];s.find().then(function(t){t.forEach(function(t){new o.a.Query("_User").get(t.data.source.id).then(function(e){n.push(i()({},t,{from:e}))})})}),setTimeout(function(){e("setMailBox",n)},2e3)}}},function(t,e,s){"use strict";var n=s(8),i=s.n(n);i.a.init({appId:"HyIz8TFBGEWUhzCOtSisLtPg-gzGzoHsz",appKey:"QhNpeqBWmsp3bhnaAfsAUgMx"}),e.a={state:{loginError:null,signupError:null,logTag:!1,user:{},topedList:null,latestList:null,essencedList:null,qaList:null,post:null,anotherUser:null,userLikeList:null,userFollowList:null,isFollowed:!1,unRead:"0",mailBox:null},mutations:{checkLocalUser:function(t){i.a.User.current()&&(t.user=i.a.User.current(),t.logTag=!0)},setLoginError:function(t,e){"The username and password mismatch."==e.message?t.loginError="用户名和密码不匹配":(e.message="Could not find user")&&(t.loginError="用户不存在")},setSignupError:function(t,e){t.signupError=e},setUserInfo:function(t,e){console.log("logined"),t.logTag=!0,t.user=e},clearCurrentUser:function(t){i.a.User.logOut(),t.user={},t.logTag=!1,console.log("signout")},setTopList:function(t,e){t.topedList=e},setLatestList:function(t,e){t.latestList=e},setEssencedList:function(t,e){t.essencedList=e},setQaList:function(t,e){t.qaList=e},setPostPage:function(t,e){t.post=e},setAnotherUser:function(t,e){t.anotherUser=e},setUserLikeList:function(t,e){t.userLikeList=e},setUserFollowList:function(t,e){t.userFollowList=e},setFollowTag:function(t,e){t.isFollowed=e},setUnread:function(t,e){t.unRead=e.toString()},setMailBox:function(t,e){t.mailBox=e}},getters:{}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,,,function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAQAAABIkb+zAAAEbklEQVR4Ae3a7WtWZRzA8e99L+buhy0TNx8RZyZqL0pMFOmNL9a0IYIMzZmCr00RmTXRoldaYmRIZm4qhTYU32biw4woS8kXFoMlY7vnVJKpqXM6yvFrr8VzzvU757rObvB8vv/Azs11/XadByxKJBKJRGI8dTRxmPN00McgQ8MN0kcHbRyiiTrGUZTy1NNCF2JQJ80sJ0eRSFPHCR4hygY4zhLSjKgKGulBIlRgM+WMiBzb+Qex0B22kiVma7iBWKyXBmIzjXOIg04zlRisox9x1H3W4FSGbxHHtVCGI+P5HYmh36jCgRn0IDHVxctY9ip/IzF2k1lYNEP953ezgxomUjrcRGrYSUF9CdOxZIJy8RRYSZqnpVnFNeVCqsKCjHLrHiWHlzytiKKLlBHZN4ii3QT5HFF0kIjWKX/9YCmOIYrWEsE0+lVrP4eJcnoR4x5QTVjKM89KTK1WnpFCWqMcnGlMlSjnWgN65JQH5h1o7FIetrOobUNU1aCxGFH1PkoV3EVUTURjMqLqNnlUGhFlpWiMQpRtApxtMvcXoBsS1CGI6yWkrhZjJxDE9SZW14qhPI8QdTu1Y1TdQ7IYqUfQV1D/I9O3DCMtSKjewdS7SKj2Y6QLCVUPeUxUcB0J1V8YGI+E7juCpTiOhK5SN0L1fYa/FHuQCC0mUBMSqVbyeCnnGBKpLQQ6jETsGqtI87QSVtOLRKyZQOcRCxX4lFomM2q4ydSyix7EQmcJ1IEUce0E6kOKuFsEGkSKuAECDSFF3JPn4AKKfAk9B5vYzhjt5wqnOELzcEc4xR88jGuMtiGhu8f3bGcJk3iWSbzNh/zAfSR0Zwh0CNHHVXawkBJMvMCbfEInoo8D9g9z/XzFPMKYzwH1wmq0e5y+TROjiWIM27hr98nEOOOJvJsXseEl9jBk74YGo9XZyRvYtIBuW7eU0IwE9DNjsK2SX5GA9mFkOeLbZcpxYTRXEN+WYiTHAOLZI17BldkM+s67DIb8nht8gUv7FK8QfSxBPJuPSwsRz97CWJoC4lEFLo32eW+fQmEz4tF6XNqAeLQRlXLueG7i13BlDo+RZ9ZHDqWtPu9KKnGhih7/M5BO1ucx1CXy2FbOZZ/Hxhn0aEA8+4k8NlXwC+LZCkI6jXh2iaqYvsY7SWhTfe+eunkdG+bS43uXNwXAzfcSj1lPiihSbGRQ/52ExkHEt3PMJKzZ/Ij49jWRlXER8e1f9jIBrUl8yX+IbxcoxYIqupCAHtPCHMWqP8ygwU3TWCyZzk3EoD/5iLmk8VLCPD6mHTHoBtVYNIubio/E2tjLe9SziAXDLaKeDeylTfEB23VmYtl0upGY6qQaB8ZxEYmhC4zFkTIOIY7bTylOreUB4qh7NBCDak4jDjrJFGLTQC9isQIriFmWD7iNWKiPRjKMiDybIg7XLjaSY0SlqaWVh4iyfo5SQ4oikWUZ+7mKGNTBPpaSoShVsZgtNHOWdm4xwJPhBrhFO2c4QCO1VJJIJBKJhDX/A7fkXsSA3b7UAAAAAElFTkSuQmCC"},function(t,e,s){s(74);var n=s(1)(s(22),s(99),null,null);t.exports=n.exports},function(t,e,s){s(73);var n=s(1)(s(23),s(98),null,null);t.exports=n.exports},function(t,e,s){s(67);var n=s(1)(s(24),s(92),null,null);t.exports=n.exports},function(t,e,s){s(69);var n=s(1)(s(25),s(94),"data-v-8eee482c",null);t.exports=n.exports},function(t,e,s){s(71);var n=s(1)(s(26),s(96),null,null);t.exports=n.exports},function(t,e,s){s(64);var n=s(1)(s(27),s(89),"data-v-37d70612",null);t.exports=n.exports},function(t,e,s){s(70);var n=s(1)(s(28),s(95),null,null);t.exports=n.exports},function(t,e,s){s(66);var n=s(1)(s(29),s(91),null,null);t.exports=n.exports},function(t,e,s){s(68);var n=s(1)(s(30),s(93),null,null);t.exports=n.exports},function(t,e,s){s(65);var n=s(1)(s(31),s(90),null,null);t.exports=n.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("mu-sub-header",{staticStyle:{"font-size":"18px"}},[t._v("发表一个帖子")]),t._v(" "),s("mu-content-block",[s("mu-text-field",{attrs:{label:"标题",hintText:"最多不超过10个字符",errorText:t.titleErrorText,maxLength:20,fullWidth:""},on:{textOverflow:t.handleTitleOverflow},model:{value:t.post.title,callback:function(e){t.post.title=e},expression:"post.title"}}),t._v(" "),s("br"),t._v(" "),s("mu-text-field",{attrs:{label:"内容",multiLine:"",rows:5,rowsMax:6,fullWidth:""},model:{value:t.post.content,callback:function(e){t.post.content=e},expression:"post.content"}}),t._v(" "),s("br"),t._v(" "),s("mu-sub-header",[t._v("限制3张(剩余"+t._s(3-t.imgCount)+"张),再次点击图片删除")]),t._v(" "),s("mu-list",t._l(t.imgList,function(e,n){return s("mu-list-item",{staticStyle:{float:"left"},attrs:{disableRipple:""},on:{click:function(e){t.deleteImg(n)}}},[s("mu-avatar",{attrs:{src:e},slot:"left"})],1)})),t._v(" "),s("mu-raised-button",{attrs:{label:"添加图片",primary:""}},[s("input",{staticClass:"file-button",attrs:{type:"file",accept:"image/jpeg, image/png,image/gif",id:"avatar"},on:{change:t.handleImg}})]),t._v(" "),s("div",{staticClass:"mu-text-field-label"},[t._v("标签")]),t._v(" "),s("mu-chip",{staticClass:"chip",staticStyle:{color:"#fff"},attrs:{backgroundColor:t.tagQA?"grey700":""},on:{click:t.selectTagQA}},[s("mu-avatar",{attrs:{backgroundColor:t.tagQA?"grey900":"",size:32,icon:"question_answer"}}),t._v("\n      问答\n    ")],1),t._v(" "),s("mu-chip",{staticClass:"chip",staticStyle:{color:"#fff"},attrs:{backgroundColor:t.tagShare?"grey700":""},on:{click:t.selectTagShare}},[s("mu-avatar",{attrs:{backgroundColor:t.tagShare?"grey900":"",size:32,icon:"share"}}),t._v("\n      分享\n    ")],1),t._v(" "),s("mu-chip",{staticClass:"chip",staticStyle:{color:"#fff"},attrs:{backgroundColor:t.tagOther?"grey700":""},on:{click:t.selectTagOther}},[s("mu-avatar",{attrs:{backgroundColor:t.tagOther?"grey900":"",size:32,icon:"more_horiz"}}),t._v("\n      其他\n    ")],1),t._v(" "),s("mu-raised-button",{staticStyle:{"margin-top":"60px"},attrs:{label:"发表",fullWidth:"",primary:"",disabled:t.buttonEnable},on:{click:t.uploadPost}})],1),t._v(" "),s("mu-dialog",{attrs:{open:t.dialog,title:"警告"},on:{close:function(e){t.dialog=!1}}},[t._v("\n    超出限制！\n    "),s("mu-flat-button",{attrs:{primary:"",label:"确定"},on:{click:function(e){t.dialog=!1}},slot:"actions"})],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("div")},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("mu-sub-header",{staticStyle:{"font-size":"18px"}},[t._v("个人资料 用户名:"+t._s(t.user.attributes.username))]),t._v(" "),s("mu-divider"),t._v(" "),s("mu-sub-header",{staticStyle:{"font-size":"12px"}},[t._v("头像")]),t._v(" "),s("mu-flexbox",[s("mu-flexbox-item",{staticClass:"flex-demo"},[s("mu-avatar",{attrs:{size:60,backgroundColor:"white",src:t.user.attributes.avatar.attributes.url}})],1),t._v(" "),s("mu-flexbox-item",[s("mu-raised-button",{attrs:{label:"点击上传"}},[s("input",{staticClass:"file-button",attrs:{type:"file",accept:"image/jpeg, image/png",id:"avatar"},on:{change:t.handleAvatar}})])],1)],1),t._v(" "),s("mu-divider"),t._v(" "),s("mu-content-block",[s("div",{staticClass:"mu-text-field-label"},[t._v("性别")]),t._v(" "),s("mu-flexbox",[s("mu-flexbox-item",[s("mu-radio",{staticClass:"radio",attrs:{label:"男",name:"group",nativeValue:"male",disabled:t.editEnable},model:{value:t.user.attributes.gender,callback:function(e){t.user.attributes.gender=e},expression:"user.attributes.gender"}}),t._v(" "),s("br")],1),t._v(" "),s("mu-flexbox-item",[s("mu-radio",{staticClass:"radio",attrs:{label:"女",name:"group",nativeValue:"female",disabled:t.editEnable},model:{value:t.user.attributes.gender,callback:function(e){t.user.attributes.gender=e},expression:"user.attributes.gender"}}),t._v(" "),s("br")],1),t._v(" "),s("mu-flexbox-item",[s("mu-radio",{staticClass:"radio",attrs:{label:"保密",name:"group",nativeValue:"secret",disabled:t.editEnable},model:{value:t.user.attributes.gender,callback:function(e){t.user.attributes.gender=e},expression:"user.attributes.gender"}}),t._v(" "),s("br")],1)],1),t._v(" "),s("mu-text-field",{staticClass:"input",attrs:{label:"昵称",hintText:"输入昵称",disabled:t.editEnable},model:{value:t.user.attributes.nickname,callback:function(e){t.user.attributes.nickname=e},expression:"user.attributes.nickname"}}),t._v(" "),s("br"),t._v(" "),s("mu-text-field",{staticClass:"input",attrs:{label:"学校",hintText:"输入学校",disabled:t.editEnable},model:{value:t.user.attributes.college,callback:function(e){t.user.attributes.college=e},expression:"user.attributes.college"}}),t._v(" "),s("br"),t._v(" "),s("mu-text-field",{staticClass:"input",attrs:{label:"简介",hintText:"输入昵称",disabled:t.editEnable},model:{value:t.user.attributes.desc,callback:function(e){t.user.attributes.desc=e},expression:"user.attributes.desc"}}),t._v(" "),s("br"),t._v(" "),s("mu-raised-button",{attrs:{label:"修改"},on:{click:t.enableEdit}}),t._v(" "),s("mu-raised-button",{staticStyle:{"margin-left":"50px"},attrs:{label:"保存",primary:""},on:{click:t.updateUser}})],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",t._l(t.userLikeList,function(e){return s("mu-list-item",{attrs:{title:e.attributes.title,describeText:e.attributes.creater},on:{click:function(s){t.goPostPage(e)}}},[s("span",{slot:"describe"},[s("span",{staticStyle:{color:"rgba(0, 0, 0, .87)"}},[t._v(t._s(e.attributes.createrName))])])])}))},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("mu-sub-header",{staticStyle:{"font-size":"18px"}},[t._v("我的主页")]),t._v(" "),s("mu-flexbox",[s("mu-flexbox-item",{staticClass:"flex-demo"},[s("mu-avatar",{attrs:{size:84,backgroundColor:"white",src:t.user.attributes.avatar.attributes.url}})],1)],1),t._v(" "),s("mu-flexbox",[s("mu-flexbox-item",{staticClass:"flex-demo"},[s("h2",[t._v(t._s(t.user.attributes.nickname))])])],1),t._v(" "),s("mu-flexbox",[s("mu-flexbox-item",{staticClass:"flex-demo"},[s("h4",[t._v(t._s(t.user.attributes.desc))])])],1),t._v(" "),s("mu-flexbox",{staticStyle:{"margin-bottom":"30px"}},[s("mu-flexbox-item",{staticClass:"flex-demo"},[s("mu-raised-button",{attrs:{label:"设 置",primary:""},on:{click:t.toSettings}})],1)],1),t._v(" "),s("mu-divider"),t._v(" "),s("mu-appbar",[s("mu-dropDown-menu",{attrs:{value:t.value,underlineClass:"underline",anchorOrigin:t.anchorPlace,labelClass:"label"},on:{change:t.handleChange},slot:"left"},[s("mu-menu-item",{attrs:{value:"like",title:"我喜欢的"},on:{click:t.goLikePage}}),t._v(" "),s("mu-menu-item",{attrs:{value:"follow",title:"关注的人"},on:{click:t.goFollowPage}})],1)],1),t._v(" "),s("router-view")],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.mailBox?s("div",[s("mu-list",[s("mu-sub-header"),t._v(" "),t._l(t.mailBox,function(e){return s("mu-list-item",{attrs:{title:e.from.attributes.nickname}},[s("mu-avatar",{attrs:{src:e.from.attributes.avatar.attributes.url},slot:"leftAvatar"}),t._v(" "),s("span",{slot:"describe"},[s("span",[t._v("-")]),t._v(" "+t._s(e.data.message)+"\n    ")]),t._v(" "),s("mu-icon-menu",{attrs:{icon:"more_vert",tooltip:"操作"},slot:"right"},[s("mu-menu-item",{attrs:{title:"回复"},on:{click:function(s){t.openDialog(e.from)}}})],1)],1)}),t._v(" "),s("mu-divider",{attrs:{inset:""}})],2),t._v(" "),s("mu-dialog",{attrs:{open:t.dialog,title:"回复给："+t.auser.attributes.nickname}},[s("mu-text-field",{staticStyle:{width:"230px"},attrs:{hintText:"最多不超过25个字符",errorText:t.inputErrorText,maxLength:25},on:{textOverflow:t.handleInputOverflow},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}}),s("br"),t._v(" "),s("mu-flat-button",{attrs:{label:"取 消"},on:{click:function(e){t.dialog=!1}},slot:"actions"}),t._v(" "),s("mu-flat-button",{attrs:{primary:"",label:"确 定",disabled:t.sendEnable},on:{click:t.sendMessageTo},slot:"actions"})],1),t._v(" "),s("div",{staticClass:"mu-overlay",staticStyle:{display:"none"}})],1):t._e()},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.anotherUser?s("mu-card",[s("mu-card-title",{attrs:{title:t.post.attributes.title,subTitle:t._f("dateFilter")(t.post.createdAt)}}),t._v(" "),s("mu-card-header",{attrs:{title:t.anotherUser.attributes.username,subTitle:"点击头像查看用户"}},[s("mu-avatar",{attrs:{src:t.anotherUser.attributes.avatar.attributes.url},on:{click:t.goFollowUser},slot:"avatar"})],1),t._v(" "),s("mu-card-text",[t._v("\n      "+t._s(t.post.attributes.content)+"\n    ")]),t._v(" "),t._l(t.post.attributes.img,function(t){return s("mu-card-media",{staticStyle:{padding:"16px"}},[s("img",{attrs:{src:t}})])}),t._v(" "),s("mu-divider"),t._v(" "),s("mu-list",[s("mu-sub-header",[t._v("评论")]),t._v(" "),t._l(t.post.attributes.comment,function(e){return s("mu-list-item",{attrs:{title:e.name},on:{click:function(s){t.atSomeone(e)}}},[s("span",{slot:"describe"},[t._v("\n          "+t._s(e.content)+"\n        ")])])})],2),t._v(" "),s("mu-content-block",[s("mu-text-field",{staticStyle:{width:"60%"},attrs:{hintText:"评 论",disabled:!t.logTag},model:{value:t.comment,callback:function(e){t.comment=e},expression:"comment"}}),t._v(" "),s("mu-icon-button",{attrs:{icon:"comment",primary:"",disabled:t.buttonEnable},on:{click:t.addComment}}),t._v(" "),s("mu-icon-button",{attrs:{icon:t.liked?"favorite":"favorite_border",primary:"",disabled:t.likeEnable,iconClass:{red:t.liked}},on:{click:t.toggleLike}})],1)],2):t._e()],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("mu-tabs",{attrs:{value:t.activeTab},on:{change:t.handleTabs}},[s("mu-tab",{attrs:{value:"latest",title:"最新"}}),t._v(" "),s("mu-tab",{attrs:{value:"essenced",title:"精华"}}),t._v(" "),s("mu-tab",{attrs:{value:"qa",title:"问答"}})],1),t._v(" "),s("mu-refresh-control",{attrs:{refreshing:t.refreshing,trigger:t.trigger},on:{refresh:t.refresh}}),t._v(" "),s("mu-list",[t._l(t.topedList,function(e){return s("mu-list-item",{attrs:{title:e.attributes.title,describeText:e.attributes.creater},on:{click:function(s){t.goPostPage(e)}}},[s("span",{slot:"describe"},[s("span",{staticStyle:{color:"rgba(0, 0, 0, .87)"}},[t._v(t._s(e.attributes.createrName))])]),t._v(" "),s("mu-badge",{attrs:{content:"置顶",secondary:""},slot:"right"})],1)}),t._v(" "),s("mu-divider"),t._v(" "),t._l(t.list,function(e){return s("mu-list-item",{attrs:{title:e.attributes.title,describeText:e.attributes.creater},on:{click:function(s){t.goPostPage(e)}}},[s("span",{slot:"describe"},[s("span",{staticStyle:{color:"rgba(0, 0, 0, .87)"}},[t._v(t._s(e.attributes.createrName))])]),t._v(" "),s("mu-badge",{attrs:{content:e.attributes.tag},slot:"right"})],1)})],2),t._v(" "),s("mu-dialog",{attrs:{open:t.dialog,title:"请先登陆查看详细内容"}},[s("mu-flat-button",{attrs:{label:"确定",primary:""},on:{click:function(e){t.dialog=!1}},slot:"actions"})],1)],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("mu-appbar",[s("mu-flat-button",{attrs:{label:"O ' MyCollege"},on:{click:t.backToHome},slot:"left"}),t._v(" "),t.logTag?t._e():s("mu-flat-button",{attrs:{label:"登录",primary:""},on:{click:function(e){t.dialog=!0}},slot:"right"}),t._v(" "),t.logTag?s("mu-icon-button",{attrs:{icon:"add",tooltip:"发帖",touch:""},on:{click:t.editPost},slot:"right"}):t._e(),t._v(" "),t.logTag?s("mu-badge",{attrs:{content:t.unRead,circle:"",secondary:""},slot:"right"},[s("mu-icon-button",{attrs:{icon:"mail"},on:{click:t.goMessageList}})],1):t._e(),t._v(" "),t.logTag?s("mu-icon-menu",{attrs:{icon:"account_circle",anchorOrigin:t.anchorOrigin,targetOrigin:t.targetOrigin},slot:"right"},[s("mu-menu-item",{attrs:{title:"我的主页",leftIcon:"home"},on:{click:t.goUserPage}}),t._v(" "),s("mu-divider"),t._v(" "),s("mu-menu-item",{attrs:{title:"设置",leftIcon:"settings"},on:{click:t.toSettings}}),t._v(" "),s("mu-divider"),t._v(" "),s("mu-menu-item",{attrs:{title:"登出",leftIcon:"exit_to_app"},on:{click:t.sighOut}})],1):t._e()],1),t._v(" "),s("mu-dialog",{attrs:{open:t.dialog,title:"登录"},on:{close:function(e){t.dialog=!1}}},[s("mu-sub-header",[t._v(t._s(t.loginError))]),t._v(" "),s("mu-text-field",{attrs:{label:"邮箱",hintText:"请输入邮箱作为用户名",type:"email",labelFloat:""},model:{value:t.loginUser.username,callback:function(e){t.loginUser.username=e},expression:"loginUser.username"}}),t._v(" "),s("br"),t._v(" "),s("mu-text-field",{attrs:{label:"密码",hintText:"请输入密码",type:"password",labelFloat:""},model:{value:t.loginUser.password,callback:function(e){t.loginUser.password=e},expression:"loginUser.password"}}),t._v(" "),s("br"),t._v(" "),s("mu-flat-button",{attrs:{label:"注册"},on:{click:t.openSignup},slot:"actions"}),t._v(" "),s("mu-flat-button",{attrs:{label:"登录",primary:""},on:{click:t.signin},slot:"actions"})],1),t._v(" "),s("mu-dialog",{attrs:{open:t.signupTag,title:"请先注册"}},[s("mu-sub-header",[t._v(t._s(t.signupError))]),t._v(" "),s("mu-text-field",{attrs:{label:"邮箱",hintText:"请输入邮箱作为用户名",type:"email",labelFloat:""},model:{value:t.signupUser.username,callback:function(e){t.signupUser.username=e},expression:"signupUser.username"}}),t._v(" "),s("br"),t._v(" "),s("mu-text-field",{attrs:{label:"密码",hintText:"请输入密码",type:"password",labelFloat:""},model:{value:t.signupUser.password,callback:function(e){t.signupUser.password=e},expression:"signupUser.password"}}),t._v(" "),s("br"),t._v(" "),s("mu-text-field",{attrs:{label:"确认密码",hintText:"请再次输入密码",type:"password",labelFloat:""},model:{value:t.signupUser.verfiPass,callback:function(e){t.signupUser.verfiPass=e},expression:"signupUser.verfiPass"}}),t._v(" "),s("br"),t._v(" "),s("mu-flat-button",{attrs:{label:"取消"},on:{click:function(e){t.signupTag=!1}},slot:"actions"}),t._v(" "),s("mu-flat-button",{attrs:{label:"注册",primary:""},on:{click:t.signup},slot:"actions"})],1),t._v(" "),s("router-view")],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.anotherUser?s("div",[s("mu-sub-header",{staticStyle:{"font-size":"18px"}},[t._v("用户主页："+t._s(t.anotherUser.attributes.username))]),t._v(" "),s("mu-flexbox",[s("mu-flexbox-item",{staticClass:"flex-demo"},[s("mu-avatar",{attrs:{size:84,backgroundColor:"white",src:t.anotherUser.attributes.avatar.attributes.url}})],1)],1),t._v(" "),s("mu-flexbox",{},[s("mu-flexbox-item",{staticClass:"flex-demo"},[s("h2",[t._v(t._s(t.anotherUser.attributes.nickname))])])],1),t._v(" "),s("mu-flexbox",{},[s("mu-flexbox-item",{staticClass:"flex-demo"},[s("h4",[t._v(t._s(t.anotherUser.attributes.desc))])])],1),t._v(" "),s("mu-flexbox",{},[t.buttonEnable?s("mu-flexbox-item",{staticClass:"flex-demo"},[s("mu-raised-button",{attrs:{label:t.isFollowed?"取消关注":"关注",primary:"",icon:t.isFollowed?"person":"person_add"},on:{click:t.toggleFollowUser}}),t._v(" "),s("mu-raised-button",{attrs:{label:"私 信",primary:"",icon:"message",disable:t.logTag},on:{click:function(e){t.dialog=!0}}})],1):t._e()],1),t._v(" "),s("mu-sub-header",[t._v("ta的发帖")]),t._v(" "),s("mu-divider"),t._v(" "),t._l(t.list,function(e){return s("mu-list-item",{attrs:{title:e.attributes.title,describeText:e.attributes.creater},on:{click:function(s){t.goPostPage(e)}}},[s("span",{slot:"describe"},[s("span",{staticStyle:{color:"rgba(0, 0, 0, .87)"}},[t._v(t._s(e.attributes.createrName))])])])}),t._v(" "),s("mu-dialog",{attrs:{open:t.dialog,title:"发送私信给："+t.anotherUser.attributes.username},on:{close:function(e){t.dialog=!1}}},[s("mu-text-field",{staticStyle:{width:"230px"},attrs:{hintText:"最多不超过25个字符",errorText:t.inputErrorText,maxLength:25},on:{textOverflow:t.handleInputOverflow},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}}),s("br"),t._v(" "),s("mu-flat-button",{attrs:{label:"取消"},on:{click:function(e){t.dialog=!1}},slot:"actions"}),t._v(" "),s("mu-flat-button",{attrs:{primary:"",label:"确定",disabled:t.sendEnable},on:{click:t.sendMessage},slot:"actions"})],1)],2):t._e()},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",t._l(t.userFollowList,function(e){return s("mu-list-item",{attrs:{title:e.attributes.username,describeText:e.attributes.desc},on:{click:function(t){}}},[s("span",{slot:"describe"},[s("span",{staticStyle:{color:"rgba(0, 0, 0, .87)"}},[t._v(t._s(e.attributes.createrName))])])])}))},staticRenderFns:[]}},,,function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=s(3),i=s(20),a=s.n(i),o=s(19),r=s.n(o),l=s(17),u=(s.n(l),s(18)),c=(s.n(u),s(16)),d=s(15);n.default.use(r.a),new n.default({el:"#app",store:c.a,router:d.a,render:function(t){return t(a.a)}})}],[102]);
//# sourceMappingURL=app.9f61dd070a5c5ffb9f0e.js.map